(this["webpackJsonpreact-form-builder"]=this["webpackJsonpreact-form-builder"]||[]).push([[0],[,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(17),t),i(n(19),t),i(n(20),t),i(n(7),t),i(n(8),t)},,,,,,function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=t.customTypeOf=t.typeCheckFunctions=t.getKeys=t.extendTypeOf=t.omitProps=t.pickProps=t.addPropToObject=void 0;t.addPropToObject=function(e,t,n){return Object.assign(Object.assign({},e),r({},t,n))};t.pickProps=function(e){for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(n){return t[n]=e[n]})),t};t.omitProps=function(e){for(var t=Object.assign({},e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return delete t[e]})),t};t.extendTypeOf=function(e){return"object"!==typeof e?typeof e:e instanceof Date?"date":e instanceof Array?"array":"object"};t.getKeys=function(e){return Object.keys(e)},t.typeCheckFunctions={undefined:function(e){return"undefined"===typeof e},boolean:function(e){return"boolean"===typeof e},number:function(e){return"number"===typeof e},bigint:function(e){return"bigint"===typeof e},string:function(e){return"string"===typeof e},symbol:function(e){return"symbol"===typeof e},function:function(e){return"function"===typeof e},object:function(e){return"object"===typeof e},date:function(e){return e instanceof Date},array:function(e){return e instanceof Array}};t.customTypeOf=function(e,n){return t.typeCheckFunctions[n](e)};t.deepCopy=function(e){if("object"!==typeof e)return e;var n=Object.assign({},e);return e instanceof Array?Object.assign([],n,e.map((function(e){return t.deepCopy(e)}))):e instanceof Date?Object.assign(new Date(e),n):(t.getKeys(e).forEach((function(r){e[r]instanceof Object&&(n[r]=t.deepCopy(e[r]))})),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEntity=void 0;var r=function(){return{name:"",studyPoints:0,lectures:[],active:!1}},i={Student:function(){return{name:"",surname:"",grades:[],courses:[],birthday:new Date}},Course:r,Grades:function(){return{grade:0,course:{name:"",studyPoints:0,lectures:[],active:!1}}},Lecture:function(){return{title:"",topic:""}}};t.defaultEntity=function(e){return i[e]()}},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.FormBuilder=void 0;var i=n(8),c=n(18),o=function e(t){return{specification:t,entity:function(n,o){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.defaultEntity(n);return e(Object.assign(Object.assign({},t),r({},n,[o(c.queryable(u)).querried])))}}};t.FormBuilder=o({})},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.queryable=void 0;var i=n(7),c=function e(n,c){return{object:n,querried:c,select:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e(i.omitProps.apply(i,[n].concat(r)),Object.assign(Object.assign({},c),i.pickProps.apply(i,[n].concat(r))))},child:function(o,u){var s=u(t.queryable(n[o])).querried;return e(i.omitProps(n,o),Object.assign(Object.assign({},c),r({},o,s)))},children:function(o,u){var s=n[o].map((function(e){return u(t.queryable(e)).querried}));return e(i.omitProps(n,o),Object.assign(Object.assign({},c),r({},o,s)))}}};t.queryable=function(e){return c(e,{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeOfPrimitive=t.isPrimitive=t.stringToPrimitive=t.primitiveNameToInputType=void 0;var r=n(7);t.primitiveNameToInputType=function(e){return{string:"text",number:"number",boolean:"checkbox",date:"date"}[e]},t.stringToPrimitive=function(e,t){return{string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return Boolean(e)},date:function(e){return new Date(e)}}[t](e)},t.isPrimitive=function(e){for(var t=r.getKeys({string:!0,number:!0,boolean:!0,date:!0}),n=0;n<t.length;n++){var i=t[n];if(r.customTypeOf(e,i))return!0}return!1},t.typeOfPrimitive=function(e){for(var t={boolean:r.typeCheckFunctions.boolean,number:r.typeCheckFunctions.number,string:r.typeCheckFunctions.string,date:r.typeCheckFunctions.date},n=r.getKeys(t),i=0;i<n.length;i++){var c=n[i];if(t[c](e))return c}return"string"}},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),c=n(9),o=n.n(c),u=(n(14),n(4)),s=n(3),a=(n(15),n(16),n(1)),b=(n(21),n(0));function f(e){var t=Object(r.useState)(e.value),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(a.primitiveNameToInputType)(Object(a.typeOfPrimitive)(i)),u=function(t){e.onValueChange(t),c(t)};return Object(b.jsx)("input",{type:o,value:j(i),onChange:function(e){Object(a.customTypeOf)(i,"boolean")?u(e.target.checked):u(Object(a.stringToPrimitive)(e.target.value,Object(a.typeOfPrimitive)(i)))}})}var j=function(e){return Object(a.customTypeOf)(e,"date")?function(e){var t=e.getFullYear().toString().padStart(4,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}(e):String(e)};function d(e){var t=Object(r.useState)(e.item),n=Object(s.a)(t,2),i=n[0],c=n[1],o=function(t){e.onItemChange(t),c(t)},u=function(e,t,n){var r=Object(a.deepCopy)(e);r[t]=n,o(r)},j=function(e,t,n){var r=Object(a.deepCopy)(e);r[t]=n,o(r)};return Object(a.isPrimitive)(i)?Object(b.jsx)(f,{value:i,onValueChange:o}):i instanceof Array?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("br",{}),Object(b.jsx)("ul",{className:"array",children:i.map((function(e,t){return Object(b.jsxs)("li",{children:[i.length>1?Object(b.jsx)("span",{className:"num",children:t+1}):null,Object(b.jsx)(d,{item:e,onItemChange:function(e){return j(i,t,e)}})]},t)}))})]}):i instanceof Object?Object(b.jsx)("div",{className:"object",children:Object(a.getKeys)(i).map((function(e){return Object(b.jsxs)("div",{className:"keyValue",children:[Object(b.jsx)("label",{children:e}),Object(b.jsx)(d,{item:i[e],onItemChange:function(t){return u(i,e,t)}})]},String(e))}))}):Object(b.jsx)("span",{children:"Form Item"})}function l(e){var t=Object(r.useState)(e.specification),n=Object(s.a)(t,2),i=n[0],c=n[1];return Object(b.jsxs)("form",{children:[Object(b.jsx)(d,{item:i,onItemChange:function(t){var n=Object(u.a)({},t);e.onSpecificationChange(n),c(n)}}),Object(b.jsx)("input",{type:"submit",onClick:function(t){t.preventDefault(),e.onSubmit(Object(a.deepCopy)(Object(u.a)({},i)))},value:"Submit"})]})}var p=function(){var e=Object(r.useState)(a.FormBuilder.entity("Student",(function(e){return e.select("name","surname","birthday").children("grades",(function(e){return e.select("grade").child("course",(function(e){return e.select("name")}))}))}),Object(u.a)(Object(u.a)({},Object(a.defaultEntity)("Student")),{},{grades:[Object(a.defaultEntity)("Grades"),Object(a.defaultEntity)("Grades")]})).entity("Course",(function(e){return e.select("name","studyPoints","active")})).specification),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(n),o=Object(s.a)(c,2),f=o[0],j=o[1],d=Object(r.useState)(!1),p=Object(s.a)(d,2),O=p[0],m=p[1];return Object(b.jsxs)("div",{id:"form-builder-example","data-submitted":O,children:[Object(b.jsxs)("section",{className:"main",children:[Object(b.jsx)("h1",{children:"Form"}),Object(b.jsx)(l,{specification:n,onSpecificationChange:function(e){i(Object(u.a)({},e))},onSubmit:function(e){console.log("su"),j(e),m(!0)}})]}),Object(b.jsxs)("section",{className:"main",children:[Object(b.jsx)("h1",{children:"Specification"}),Object(b.jsxs)("p",{className:"description",children:["This is a live view of the specification object.",Object(b.jsx)("br",{}),"When values in the form are changed they are also updated in this object."]}),Object(b.jsx)("pre",{children:JSON.stringify(n,null,2)})]}),Object(b.jsxs)("section",{className:"main",children:[Object(b.jsx)("h1",{children:"Submitted Result"}),Object(b.jsxs)("p",{className:"description",children:["These are the submitted results of the form.",Object(b.jsx)("br",{}),"When the submit button is clicked, a deep copy of the specification is made. The last copy that was made is seen here."]}),Object(b.jsx)("pre",{children:JSON.stringify(f,null,2)})]}),Object(b.jsxs)("section",{className:"result",children:[Object(b.jsx)("h1",{children:"Form Submitted!"}),Object(b.jsxs)("p",{children:["These are the submitted results of the form.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"When the submit button is clicked, a deep copy of the specification is made.",Object(b.jsx)("br",{}),"This copy is seen here.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"A developer using the form builder can choose how to handle these results.",Object(b.jsx)("br",{}),"For example, sending them to a back-end endpoint.",Object(b.jsx)("br",{}),"Right now, the results are simply displayed here."]}),Object(b.jsx)("h3",{children:"Submitted Form Data"}),Object(b.jsx)("pre",{children:JSON.stringify(f,null,2)}),Object(b.jsx)("input",{type:"button",value:"Back",onClick:function(){return m(!1)}})]})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),c(e),o(e)}))};o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root")),O()}],[[23,1,2]]]);
//# sourceMappingURL=main.a1812262.chunk.js.map